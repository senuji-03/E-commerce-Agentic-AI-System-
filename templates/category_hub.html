{% extends "base.html" %}
{% block title %}{{ 'Laptops' if category == 'laptops' else 'Mobile Phones' }} • Hub{% endblock %}
{% block content %}
  <div class="hero-section">
    <div class="hero-content">
      <h1 class="hero-title">{{ '💻 Laptops' if category == 'laptops' else '📱 Mobile Phones' }}</h1>
      <p class="hero-subtitle">Choose an agent to continue</p>
    </div>
  </div>

  <div class="grid">
    <div class="card" style="grid-column: span 15;">
      <div class="card-header">
        <h2>🔍 Brand Selection & Scraping</h2>
        <div class="card-subtitle">Update product prices and discover new items</div>
      </div>
      <form method="post" action="{{ url_for('scrape') }}" class="scraping-form">
        <input type="hidden" name="category" value="{{ category }}" />
        <div class="grid">
          <div class="form-group" style="grid-column: span 6;">
            <label class="form-label"><span class="label-icon">🏢</span>Brand</label>
            <select class="input" name="brand">
              {% for b in brands %}
                <option value="{{ b }}">{{ b }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="form-group" style="grid-column: span 6;">
            <label class="form-label"><span class="label-icon">💰</span>Price Threshold</label>
            <input class="input" type="text" name="threshold" placeholder="Rs. 400000" />
          </div>
          <div class="form-group" style="grid-column: span 12; display:flex; align-items:end; gap:10px;">
            <button class="btn scrape-btn" type="submit"><span class="btn-icon">🚀</span>Update Product Prices</button>
          </div>
        </div>
      </form>
    </div>

    <a class="card" style="grid-column: span 6; display:block; text-decoration:none;" href="{{ url_for('tracker', category=category) }}">
      <div class="card-header"><h2>📈 Price Tracker</h2><div class="card-subtitle">View last scraped items and alerts</div></div>
      <div class="feature-item"><span class="feature-icon">⚡</span><span>Latest scraped data</span></div>
    </a>

    <a class="card" style="grid-column: span 6; display:block; text-decoration:none;" href="{{ url_for('recommendations', category=category) }}">
      <div class="card-header"><h2>🎯 Recommendations</h2><div class="card-subtitle">AI-powered similar products</div></div>
      <div class="feature-item"><span class="feature-icon">🤖</span><span>Smart similarity</span></div>
    </a>

    <a class="card" style="grid-column: span 6; display:block; text-decoration:none;" href="{{ url_for('reviews', category=category) }}">
      <div class="card-header"><h2>📝 Reviews</h2><div class="card-subtitle">Summarized pros and cons</div></div>
      <div class="feature-item"><span class="feature-icon">🧠</span><span>Concise insights</span></div>
    </a>

    <a class="card" style="grid-column: span 6; display:block; text-decoration:none;" href="{{ url_for('compare', category=category) }}">
      <div class="card-header"><h2>⚖️ Compare</h2><div class="card-subtitle">Side-by-side feature view</div></div>
      <div class="feature-item"><span class="feature-icon">📊</span><span>Feature matrix</span></div>
    </a>
  </div>
{% endblock %}


