<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Daraz Agentic AI{% endblock %}</title>
    <style>
      :root {
        --bg: #ffffff;
        --text: #0f172a;
        --muted: #475569;
        --brand: #ff7a00; /* orange header */
        --accent: #0ea5e9;
        --good: #16a34a;
        --bad: #dc2626;
      }
      * { box-sizing: border-box; }
      body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; color: var(--text); background: var(--bg); }
      a { color: var(--accent); text-decoration: none; }
      header { background: var(--brand); color: #1f2937; }
      .header-inner { max-width: 1100px; margin: 0 auto; padding: 14px 24px; display: flex; align-items: center; justify-content: space-between; }
      .brand { font-weight: 800; letter-spacing: .3px; color: #1f2937; }
      .nav a { margin-left: 16px; color: #1f2937; font-weight: 600; }
      .container { max-width: 1100px; margin: 0 auto; padding: 24px; }
      .card { background: #ffffff; border: 1px solid #e2e8f0; border-radius: 14px; padding: 18px; box-shadow: 0 10px 24px rgba(2,6,23,.06); }
      .card h2 { margin: 0 0 10px; font-size: 18px; color: #0f172a; }
      .grid { display: grid; grid-template-columns: repeat(12, 1fr); gap: 16px; }
      .btn { background: var(--brand); color: #111827; border: none; border-radius: 10px; padding: 10px 14px; font-weight: 700; cursor: pointer; box-shadow: 0 8px 18px rgba(249,115,22,.25); }
      .btn.secondary { background: #f1f5f9; color: #0f172a; border: 1px solid #e2e8f0; box-shadow: none; }
      .input, select { background: #ffffff; color: #0f172a; border: 1px solid #e2e8f0; border-radius: 10px; padding: 10px 12px; width: 100%; }
      .table { width: 100%; border-collapse: collapse; }
      .table th, .table td { padding: 10px; border-bottom: 1px solid #e2e8f0; }
      .tag { display: inline-block; padding: 2px 8px; border-radius: 999px; font-size: 12px; border: 1px solid #e2e8f0; color: var(--muted); }
      .ok { background: #ecfdf5; color: #166534; border-color: #a7f3d0; }
      .warn { background: #fef2f2; color: #991b1b; border-color: #fecaca; }
      .flash { padding: 10px 14px; border-radius: 12px; margin-bottom: 12px; border: 1px solid #e2e8f0; }
      .flash.success { background: #ecfdf5; color: #14532d; }
      .flash.error { background: #fef2f2; color: #7f1d1d; }
      footer { margin-top: 40px; color: #e5e7eb; font-size: 13px; background: #000000; }
      .footer-inner { max-width: 1100px; margin: 0 auto; padding: 16px 24px; }
    </style>
  </head>
  <body>
    <header>
      <div class="header-inner">
        <div class="brand">Daraz Agentic AI</div>
        <div class="nav">
          <a href="{{ url_for('index') }}">Home</a>
          <a href="{{ url_for('tracker') }}">Price Tracker</a>
          <a href="{{ url_for('recommendations') }}">Recommendations</a>
        </div>
      </div>
    </header>
    <div class="container">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      {% block content %}{% endblock %}
    </div>
    <footer>
      <div class="footer-inner">
        Built with Playwright, Flask, and scikit-learn â€¢ Live data from Daraz search
      </div>
    </footer>
    <script>
      (function() {
        var flashes = document.querySelectorAll('.flash.success');
        if (flashes && flashes.length) {
          // Show a simple alert for success messages (e.g., after updating product prices)
          var combined = Array.from(flashes).map(function(el){ return el.textContent.trim(); }).join('\n');
          if (combined) {
            alert(combined);
          }
        }
      })();
    </script>
  </body>
  </html>


